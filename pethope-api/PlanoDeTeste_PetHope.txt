# Plano de Teste - API PetHope

## Objetivo
Garantir que todos os endpoints da API PetHope funcionem corretamente, validando autenticação, operações CRUD e integrações com o banco de dados.

## Escopo
- Cadastro, login e listagem de usuários
- Cadastro, listagem, atualização e remoção de pets
- Autenticação via JWT
- Restrições de acesso por tipo de usuário

## Estratégia
- Testes manuais via Swagger e Postman
- Testes automatizados (opcional)
- Validação de respostas HTTP, mensagens de erro e persistência no banco

## Critérios de Aceite
- Todos os endpoints devem retornar os status e dados esperados
- Erros devem ser tratados e informados corretamente
- Autenticação deve proteger endpoints sensíveis

## Ambiente
- API rodando localmente (http://localhost:3000)
- Banco de dados conectado

## Ferramentas
- Swagger UI
- Postman
- MongoDB Compass

## Casos de Teste
Ver planilha anexada.

## Relatórios de Defeitos
Ver template anexado.

---

# Casos de Teste (Planilha Google)

| ID | Caso de Teste | Endpoint | Método | Dados de Entrada | Resultado Esperado | Status |
|----|---------------|----------|--------|------------------|--------------------|--------|
| CT01 | Registrar usuário | /users/registrar | POST | nome, email, senha, tipo | 201 Created, usuário criado | |
| CT02 | Login usuário | /users/login | POST | email, senha | 200 OK, token JWT | |
| CT03 | Listar usuários | /users/ | GET | - | 200 OK, lista de usuários | |
| CT04 | Cadastrar pet (clínica) | /pets/ | POST | dados do pet, token clínica | 201 Created, pet cadastrado | |
| CT05 | Cadastrar pet (não clínica) | /pets/ | POST | dados do pet, token tutor | 403 Forbidden, erro de permissão | |
| CT06 | Listar pets | /pets/ | GET | - | 200 OK, lista de pets | |
| CT07 | Atualizar pet | /pets/{id} | PUT | dados do pet, token clínica | 200 OK, pet atualizado | |
| CT08 | Remover pet | /pets/{id} | DELETE | token clínica | 200 OK, pet removido | |
| CT09 | Endpoint protegido sem token | /pets/ | POST | dados do pet, sem token | 401 Unauthorized, erro de autenticação | |

---

# Relatório de Defeitos (Template)

| ID | Caso de Teste | Descrição do Defeito | Passos para Reproduzir | Resultado Esperado | Resultado Obtido | Status |
|----|---------------|---------------------|-----------------------|--------------------|------------------|--------|
| RD01 | CT04 | API retorna 500 ao cadastrar pet | 1. Logar como clínica 2. Enviar POST /pets/ | Pet cadastrado | Erro 500 | Aberto |
| RD02 | CT09 | API não retorna erro ao faltar token | 1. Enviar POST /pets/ sem token | Erro 401 | Pet cadastrado | Aberto |

Preencha os campos conforme encontrar defeitos durante os testes.

---

Se quiser os arquivos separados ou exportar para Google Sheets, posso ajudar também!