<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Animais para Ado√ß√£o</title>
  <link rel="stylesheet" href="../styles/style.css">
  <link rel="stylesheet" href="../styles/animais.css">
</head>
<body>
  <header>
    <h1>PetHope</h1>
    <nav>
      <a href="index.html">In√≠cio</a>
      <a href="adocao.html">Ado√ß√£o</a>
      <a href="doacao-sangue.html">Doa√ß√£o de Sangue</a>
      <a id="perfil-link" style="display:none; cursor:pointer;" onclick="irParaPerfil()">Perfil</a>
      <a id="userLogout" style="display:none; cursor:pointer;" onclick="handleUserMenu(event)">Logout</a>
      <a id="loginLink" href="pages/login.html">Login</a>
    </nav>
  </header>

  <h2>Animais para ado√ß√£o</h2>

  <main class="cards-container" id="lista-animais">
    <!-- Os cards ser√£o inseridos pelo JS -->
  </main>

  <footer>
    <p>&copy; 2025 PetHope</p>
  </footer>

  <script src="../js/api.js"></script>
  <script src="../js/auth.js"></script>
  <script src="../js/animais.js"></script>
  <script>
    function updateUserUI() {
      const perfilLink = document.getElementById('perfil-link');
      const userLogout = document.getElementById('userLogout');
      const loginLink = document.getElementById('loginLink');
      
      if (auth.isAuthenticated()) {
        const user = auth.getUser();
        perfilLink.style.display = 'inline';
        perfilLink.textContent = `üë§ ${user.nome}`;
        userLogout.style.display = 'inline';
        loginLink.style.display = 'none';
      } else {
        perfilLink.style.display = 'none';
        userLogout.style.display = 'none';
        loginLink.style.display = 'inline';
      }
    }

    function irParaPerfil() {
      window.location.href = 'pages/historico.html';
    }

    function handleUserMenu(event) {
      const confirmed = confirm('Deseja fazer logout?');
      if (confirmed) {
        auth.logout();
        window.location.href = 'index.html';
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      updateUserUI();
    });
  </script>
</body>
</html>
